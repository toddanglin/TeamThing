/*
* Kendo UI Complete v2012.1.515 (http://kendoui.com)
* Copyright 2012 Telerik AD. All rights reserved.
*
* Kendo UI Complete commercial licenses may be obtained at http://kendoui.com/complete-license
* If you do not own a commercial license, this file shall be governed by the trial license terms.
*/
(function(a,b){function cO(a,b){if(b===null)return null;var c=cO.cache[a]=cO.cache[a]||q(a,!0);return c(b)}function cN(a){return a*a}function cM(a){var b=a.length,c=0,d;for(d=0;d<b;d++)c=f.max(c,a[d].data.length);return c}function cL(a,b,c){a[b]=(a[b]||0)+c}function cK(a,b){cJ(a,b),cG(a,b)}function cJ(b,d){var e=o({},(d||{}).axisDefaults);c(["category","value","x","y"],function(){var c=this+"Axis",d=[].concat(b[c]);d=a.map(d,function(a){var d=(a||{}).color;return o({},e,e[c],b.axisDefaults,{line:{color:d},labels:{color:d},title:{color:d}},a)}),b[c]=d.length>1?d:d[0]})}function cI(a){var b=a.series,c,d=b.length,e=a.seriesColors||[];for(c=0;c<d;c++)b[c].color=b[c].color||e[c%e.length]}function cH(a){delete a.bar,delete a.column,delete a.line,delete a.verticalLine,delete a.pie,delete a.area,delete a.verticalArea,delete a.scatter,delete a.scatterLine}function cG(a,b){var c=a.series,d,e=c.length,f,g=a.seriesDefaults,h=o({},a.seriesDefaults),i=b?o({},b.seriesDefaults):{},j=o({},i);cH(h),cH(j);for(d=0;d<e;d++)f=c[d].type||a.seriesDefaults.type,c[d]=o({},j,i[f],{tooltip:a.tooltip},h,g[f],c[d])}function cF(a,b,c,d){var e,f=(d.x-c.x)*(a.y-c.y)-(d.y-c.y)*(a.x-c.x),g=(d.y-c.y)*(b.x-a.x)-(d.x-c.x)*(b.y-a.y),h;g!==0&&(h=f/g,e=new B(a.x+h*(b.x-a.x),a.y+h*(b.y-a.y)));return e}function cE(a){var b=bv,c=bw,d,e=a.length,g;for(d=0;d<e;d++)g=a[d],J(g)&&(b=f.min(b,g),c=f.max(c,g));return{min:b,max:c}}function cD(a){return cE(a).max}function cC(a){return cE(a).min}var c=a.each,d=a.grep,e=a.map,f=Math,g=a.extend,h=a.proxy,i=document,j=window.kendo,k=j.Class,l=j.data.DataSource,m=j.ui.Widget,n=j.template,o=j.deepExtend,p=j.format,q=j.getter,r=j.dataviz,s=r.Axis,t=r.AxisLabel,u=r.BarAnimation,v=r.Box2D,w=r.BoxElement,x=r.ChartElement,y=r.Color,z=r.ElementAnimation,A=r.NumericAxis,B=r.Point2D,C=r.RootElement,D=r.Sector,E=r.Text,F=r.TextBox,G=r.Title,H=r.animationDecorator,I=r.append,J=r.defined,K=r.getSpacing,L=r.inArray,M=r.interpolateValue,N=r.last,O=r.round,P=r.renderTemplate,Q=r.uniqueId,R="k-",S="above",T="area",U=r.AXIS_LABEL_CLICK,V="bar",W=.8,X=1.5,Y=.4,Z="below",$="#000",_="bottom",ba="center",bb="change",bc="circle",bd="click",be=r.CLIP,bf="column",bg=r.COORD_PRECISION,bh="dataBound",bi=r.DEFAULT_FONT,bj=r.DEFAULT_HEIGHT,bk=r.DEFAULT_PRECISION,bl=r.DEFAULT_WIDTH,bm="fadeIn",bn="glass",bo=r.INITIAL_ANIMATION_DURATION,bp="insideBase",bq="insideEnd",br="interpolate",bs="left",bt="line",bu=8,bv=Number.MAX_VALUE,bw=-Number.MAX_VALUE,bx="mousemove.tracking",by="mouseover",bz="onMinorTicks",bA="outsideEnd",bB="_outline",bC="pie",bD=70,bE="primary",bF="right",bG="roundedBevel",bH="scatter",bI="scatterLine",bJ="seriesClick",bK="seriesHover",bL="string",bM="top",bN=150,bO=5,bP=100,bQ="triangle",bR="verticalLine",bS="verticalArea",bT="#fff",bU="x",bV="y",bW="zero",bX=[V,bf,bt,bR,T,bS],bY=[bH,bI],bZ=m.extend({init:function(a,b){var c=this,d,e,f=r.ui.themes.chart||{},g=(b||{}).dataSource,i;m.fn.init.call(c,a),d=o({},c.options,b),i=d.theme,e=i?f[i]||f[i.toLowerCase()]:{},cK(d,e),c.options=o({},e,d),cI(c.options),c.bind(c.events,c.options),c.element.addClass("k-chart"),c.wrapper=c.element,c._dataChangeHandler=h(c._onDataChanged,c),c.dataSource=l.create(g).bind(bb,c._dataChangeHandler),g&&d.autoBind&&c.dataSource.fetch(),c._redraw(),c._attachEvents(),j.notify(c,r.ui)},setDataSource:function(a){var b=this;b.dataSource&&b.dataSource.unbind(bb,b._dataChangeHandler),b.dataSource=a,a.bind(bb,b._dataChangeHandler),b.options.autoBind&&a.fetch()},events:[bh,bJ,bK,U],items:function(){return a()},options:{name:"Chart",theme:"default",chartArea:{},title:{visible:!0},legend:{visible:!0},valueAxis:{type:"Numeric"},categoryAxis:{type:"Category",categories:[]},autoBind:!0,seriesDefaults:{type:bf,data:[],groupNameTemplate:"#= group.value + (kendo.dataviz.defined(series.name) ? ': ' + series.name : '') #",bar:{gap:X,spacing:Y},column:{gap:X,spacing:Y},line:{width:4},scatterLine:{width:1},labels:{}},series:[],tooltip:{visible:!1},transitions:!0},refresh:function(){var a=this;cK(a.options),a.dataSource?a.dataSource.read():a._redraw()},redraw:function(){var a=this;cK(a.options),a._redraw()},_redraw:function(){var a=this,b=a.options,c=a.element,d=a._model=a._getModel(),e=r.ui.defaultView(),f;a._plotArea=d._plotArea,e&&(f=a._view=e.fromModel(d),c.css("position","relative"),a._viewElement=f.renderTo(c[0]),a._tooltip=new cB(c,b.tooltip),a._highlight=new cA(f,a._viewElement))},svg:function(){var a=this._getModel(),b=r.SVGView.fromModel(a);return b.render()},_getModel:function(){var a=this,b=a.options,c=a.element,d=new C(o({width:c.width()||bl,height:c.height()||bj,transitions:b.transitions},b.chartArea)),e;b.title&&b.title.visible&&b.title.text&&d.append(new G(b.title)),e=d._plotArea=a._createPlotArea(),b.legend.visible&&d.append(new b_(e.options.legend)),d.append(e),d.reflow();return d},_createPlotArea:function(){var a=this,b=a.options,c=b.series,d,e=c.length,f,g=[],h=[],i=[],j;for(d=0;d<e;d++)f=c[d],L(f.type,bX)?g.push(f):L(f.type,bY)?h.push(f):f.type===bC&&i.push(f);i.length>0?j=new cw(i,b):h.length>0?j=new cv(h,b):j=new ct(g,b);return j},_attachEvents:function(){var a=this,b=a.element;b.bind(bd,h(a._click,a)),b.bind(by,h(a._mouseOver,a))},_getChartElement:function(b){var c=a(b.target).data("modelId"),d=this._model,e;c&&(e=d.modelMap[c]);return e},_eventCoordinates:function(b){var c=this.element,d=c.offset(),e=parseInt(c.css("paddingLeft"),10),f=parseInt(c.css("paddingTop"),10),g=a(window);return{x:b.clientX-d.left-e+g.scrollLeft(),y:b.clientY-d.top-f+g.scrollTop()}},_click:function(a){var b=this,c=b._getChartElement(a);c&&c.click&&c.click(this,a)},_mouseOver:function(b){var c=this,d=c._tooltip,e=c._highlight,f,g;!!e&&e.element!==b.target&&(g=c._getChartElement(b),g&&g.hover&&(g.hover(c,b),c._activePoint=g,f=o({},c.options.tooltip,g.options.tooltip),f.visible&&d.show(g),e.show(g),a(i.body).bind(bx,h(c._mouseMove,c))))},_mouseMove:function(b){var c=this,d=c._tooltip,e=c._highlight,f=c._eventCoordinates(b),g=c._activePoint,h,j,k;c._plotArea.box.containsPoint(f.x,f.y)?g&&g.series&&(g.series.type===bt||g.series.type===T)&&(j=g.parent,k=j.getNearestPoint(f.x,f.y,g.seriesIx),k&&k!=g&&(k.hover(c,b),c._activePoint=k,h=o({},c.options.tooltip,g.options.tooltip),h.visible&&d.show(k),e.show(k))):(a(i.body).unbind(bx),delete c._activePoint,d.hide(),e.hide())},_onDataChanged:function(){var a=this,b=a.options,c=a._sourceSeries||b.series,d,e=c.length,f=a.dataSource.view(),g=(a.dataSource.group()||[]).length>0,h=[],i;for(d=0;d<e;d++)i=c[d],i.field||i.xField&&i.yField?(i.data=[],i.dataItems=f,[].push.apply(h,g?a._createGroupedSeries(i,f):[i])):h.push(i);a._sourceSeries=c,b.series=h,cI(a.options),a._bindSeries(),a._bindCategories(g?f[0].items:f),a.trigger(bh),a._redraw()},_createGroupedSeries:function(a,c){var d=[],e,f,g,h=c.length,i;a.groupNameTemplate&&(e=n(a.groupNameTemplate));for(g=0;g<h;g++)i=o({},a),i.color=b,d.push(i),f=c[g],i.dataItems=f.items,e&&(i.name=e({series:i,group:f}));return d},_bindSeries:function(){var a=this,c=a.options.series,d=c.length,e,f,g,h,i,j,k;for(e=0;e<d;e++){f=c[e],g=f.dataItems||[],i=g.length;for(h=0;h<i;h++)j=g[h],f.field?k=cO(f.field,j):f.xField&&f.yField?k=[cO(f.xField,j),cO(f.yField,j)]:k=b,h===0?(f.data=[k],f.dataItems=[j]):(f.data.push(k),f.dataItems.push(j))}},_bindCategories:function(a){var b=this.options.categoryAxis,c,d,e,f=a.length;if(b.field)for(c=0;c<f;c++)e=a[c],d=cO(b.field,e),c===0?(b.categories=[d],b.dataItems=[e]):(b.categories.push(d),b.dataItems.push(e))}}),b$=x.extend({init:function(a,b){var c=this;x.fn.init.call(c,b),c.append(new F(a,c.options))},options:{position:bA,margin:K(3),padding:K(4),color:$,background:"",border:{width:1,color:""},aboveAxis:!0,vertical:!1,animation:{type:bm,delay:bo},zIndex:1},reflow:function(a){var b=this,c=b.options,d=c.vertical,e=c.aboveAxis,f=b.children[0],g=f.box,h=f.options.padding;f.options.align=d?ba:bs,f.options.vAlign=d?bM:ba,c.position==bq?d?(f.options.vAlign=bM,!e&&g.height()<a.height()&&(f.options.vAlign=_)):f.options.align=e?bF:bs:c.position==ba?(f.options.vAlign=ba,f.options.align=ba):c.position==bp?d?f.options.vAlign=e?_:bM:f.options.align=e?bs:bF:c.position==bA&&(d?e?a=new v(a.x1,a.y1-g.height(),a.x2,a.y1):a=new v(a.x1,a.y2,a.x2,a.y2+g.height()):(f.options.align=ba,e?a=new v(a.x2+g.width(),a.y1,a.x2,a.y2):a=new v(a.x1-g.width(),a.y1,a.x1,a.y2))),d?h.left=h.right=(a.width()-f.contentBox.width())/2:h.top=h.bottom=(a.height()-f.contentBox.height())/2,f.reflow(a)}}),b_=x.extend({init:function(a){var b=this;x.fn.init.call(b,a),b.createLabels()},options:{position:bF,items:[],labels:{},offsetX:0,offsetY:0,margin:K(10),padding:K(5),border:{color:$,width:0},background:"",zIndex:1},createLabels:function(){var a=this,b=a.options.items,c=b.length,d,e,f;for(f=0;f<c;f++)e=b[f].name,d=new E(e,a.options.labels),a.append(d)},reflow:function(a){var b=this,c=b.options,d=b.children.length;if(d===0)b.box=a.clone();else{if(c.position=="custom"){b.customLayout(a);return}c.position==bM||c.position==_?b.horizontalLayout(a):b.verticalLayout(a)}},getViewElements:function(a){var b=this,c=b.children,d=b.options,e=d.items,f=e.length,g=b.markerSize(),h=a.createGroup({zIndex:d.zIndex}),i=d.border||{},j,k,l,m,n,o,p;I(h.children,x.fn.getViewElements.call(b,a));for(p=0;p<f;p++)m=e[p].color,n=c[p],k=new v,o=n.box,l=l?l.wrap(o):o.clone(),k.x1=o.x1-g*2,k.x2=k.x1+g,d.position==bM||d.position==_?k.y1=o.y1+g/2:k.y1=o.y1+(o.height()-g)/2,k.y2=k.y1+g,h.children.push(a.createRect(k,{fill:m,stroke:m}));c.length>0&&(j=K(d.padding),j.left+=g*2,l.pad(j),h.children.unshift(a.createRect(l,{stroke:i.width?i.color:"",strokeWidth:i.width,dashType:i.dashType,fill:d.background})));return[h]},verticalLayout:function(a){var b=this,c=b.options,d=b.children,e=d.length,g=d[0].box.clone(),h,i,j=K(c.margin),k=b.markerSize()*2,l,m;for(m=1;m<e;m++)l=b.children[m],l.box.alignTo(b.children[m-1].box,_),g.wrap(l.box);c.position==bs?(h=a.x1+k+j.left,i=(a.y2-g.height())/2,g.x2+=k+j.left+j.right):(h=a.x2-g.width()-j.right,i=(a.y2-g.height())/2,g.translate(h,i),g.x1-=k+j.left),b.translateChildren(h+c.offsetX,i+c.offsetY);var n=g.width();g.x1=f.max(a.x1,g.x1),g.x2=g.x1+n,g.y1=a.y1,g.y2=a.y2,b.box=g},horizontalLayout:function(a){var b=this,c=b.options,d=b.children,e=d.length,f=d[0].box.clone(),g=b.markerSize()*3,h,i,j=K(c.margin),k=d[0].box.width()+g,l=a.width(),m,n=0,o;for(o=1;o<e;o++)m=d[o],k+=m.box.width()+g,k>l-g?(m.box=new v(f.x1,f.y2,f.x1+m.box.width(),f.y2+m.box.height()),k=m.box.width()+g,n=m.box.y1):(m.box.alignTo(d[o-1].box,bF),m.box.y2=n+m.box.height(),m.box.y1=n,m.box.translate(g,0)),f.wrap(m.box);h=(a.width()-f.width()+g)/2,c.position===bM?(i=a.y1+j.top,f.y2=a.y1+f.height()+j.top+j.bottom,f.y1=a.y1):(i=a.y2-f.height()-j.bottom,f.y1=a.y2-f.height()-j.top-j.bottom,f.y2=a.y2),b.translateChildren(h+c.offsetX,i+c.offsetY),f.x1=a.x1,f.x2=a.x2,b.box=f},customLayout:function(a){var b=this,c=b.options,d=b.children,e=d.length,f=d[0].box.clone(),g=b.markerSize()*2,h;for(h=1;h<e;h++)f=b.children[h].box,f.alignTo(b.children[h-1].box,_),f.wrap(f);b.translateChildren(c.offsetX+g,c.offsetY),b.box=a},markerSize:function(){var a=this,b=a.children;return b.length>0?b[0].box.height()/2:0}}),ca=s.extend({options:{categories:[],vertical:!1,majorGridLines:{visible:!1,width:1,color:$},zIndex:1},range:function(){return{min:0,max:this.options.categories.length}},reflow:function(a){this.reflowAxis(a,bz)},getViewElements:function(a){var b=this,c=b.options,d=c.line,e=b.lineBox(),f=x.fn.getViewElements.call(b,a),g;d.width>0&&d.visible&&(g={strokeWidth:d.width,stroke:d.color,dashType:d.dashType,zIndex:d.zIndex},f.push(a.createLine(e.x1,e.y1,e.x2,e.y2,g)),I(f,b.renderTicks(a)),I(f,b.renderPlotBands(a)));return f},getTickPositions:function(a){var b=this,c=b.options,d=c.vertical,e=d?b.box.height():b.box.width(),f=e/a,g=d?b.box.y1:b.box.x1,h=[],i;for(i=0;i<a;i++)h.push(O(g,bg)),g+=f;h.push(d?b.box.y2:b.box.x2);return c.reverse?h.reverse():h},getMajorTickPositions:function(){var a=this;return a.getTickPositions(a.options.categories.length)},getMinorTickPositions:function(){var a=this;return a.getTickPositions(a.options.categories.length*2)},getSlot:function(a,b){var c=this,d=c.options,e=d.reverse,g=d.vertical,h=g?bV:bU,i=c.lineBox(),j=new v(i.x1,i.y1,i.x1,i.y1),k=i[h+(e?2:1)],l=g?i.height():i.width(),m=f.max(1,d.categories.length),n=(e?-1:1)*(l/m),o,p,q;a=f.min(f.max(0,a),m),b=J(b)?b:a,b=f.max(f.min(m,b),a),o=k+a*n,p=o+n,q=b-a;if(q>0||a==b&&m==a)p=o+q*n;j[h+1]=e?p:o,j[h+2]=e?o:p;return j},labelsCount:function(){return this.options.categories.length},createAxisLabel:function(a,b){var c=this,d=c.options,e=d.dataItems?d.dataItems[a]:null,f=J(d.categories[a])?d.categories[a]:"";return new t(f,a,e,b)}}),cb=x.extend({init:function(a){var b=this;x.fn.init.call(b,a)},options:{vertical:!1,gap:0,spacing:0},reflow:function(a){var b=this,c=b.options,d=c.vertical,e=d?bV:bU,f=b.children,g=c.gap,h=c.spacing,i=f.length,j=i+g+h*(i-1),k=(d?a.height():a.width())/j,l=a[e+1]+k*(g/2),m,n;for(n=0;n<i;n++)m=(f[n].box||a).clone(),m[e+1]=l,m[e+2]=l+k,f[n].reflow(m),n<i-1&&(l+=k*h),l+=k}}),cc=x.extend({init:function(a){var b=this;x.fn.init.call(b,a)},options:{vertical:!0,isReversed:!1},reflow:function(a){var b=this,c=b.options,d=c.vertical,e=d?bU:bV,f=d?bV:bU,g=a[f+2],h=b.children,i=b.box=new v,j=h.length,k,l;c.isReversed?k=d?_:bs:k=d?bM:bF;for(l=0;l<j;l++){var m=h[l],n=m.box.clone();n.snapTo(a,e),m.options&&(m.options.stackBase=g),l===0?i=b.box=n.clone():n.alignTo(h[l-1].box,k),m.reflow(n),i.wrap(n)}}}),cd={click:function(b,c){var d=this;b.trigger(bJ,{value:d.value,category:d.category,series:d.series,dataItem:d.dataItem,element:a(c.target)})},hover:function(b,c){var d=this;b.trigger(bK,{value:d.value,category:d.category,series:d.series,dataItem:d.dataItem,element:a(c.target)})}},ce=x.extend({init:function(a,b){var c=this;x.fn.init.call(c,b),c.value=a,c.options.id=Q(),c.makeDiscoverable()},options:{color:bT,border:{width:1},vertical:!0,overlay:{gradient:bn},aboveAxis:!0,labels:{visible:!1},animation:{type:V},opacity:1},render:function(){var a=this,b=a.value,c=a.options,d=c.labels,e=b,f;a._rendered||(a._rendered=!0,d.visible&&b&&(d.template&&(f=n(d.template),e=f({dataItem:a.dataItem,category:a.category,value:a.value,series:a.series})),a.append(new b$(e,o({vertical:c.vertical,id:Q()},c.labels)))))},reflow:function(a){this.render();var b=this,c=b.options,d=b.children,e=d[0];b.box=a,e&&(e.options.aboveAxis=c.aboveAxis,e.reflow(a))},getViewElements:function(a){var b=this,c=b.options,d=c.vertical,e=c.border.width>0?{stroke:b.getBorderColor(),strokeWidth:c.border.width,dashType:c.border.dashType}:{},f=b.box,g=o({id:c.id,fill:c.color,fillOpacity:c.opacity,strokeOpacity:c.opacity,vertical:c.vertical,aboveAxis:c.aboveAxis,stackBase:c.stackBase,animation:c.animation,data:{modelId:c.modelId}},e),h=[];c.overlay&&(g.overlay=o({rotation:d?0:90},c.overlay)),h.push(a.createRect(f,g)),I(h,x.fn.getViewElements.call(b,a));return h},getOutlineElement:function(a,b){var c=this,d=c.box;b=o({data:{modelId:c.options.modelId}},b);return a.createRect(d,b)},getBorderColor:function(){var a=this,b=a.options,c=b.color,d=b.border.color;J(d)||(d=(new y(c)).brightness(W).toHex());return d},tooltipAnchor:function(a,b){var c=this,d=c.options,e=c.box,f=d.vertical,g=d.aboveAxis,h,i;f?(h=e.x2+bO,i=g?e.y1:e.y2-b):d.isStacked?(h=e.x2-a,i=e.y1-b-bO):(h=e.x2+bO,i=e.y1);return new B(h,i)},formatPointValue:function(a){var b=this;return b.owner.formatPointValue(b.value,a)}});o(ce.fn,cd);var cf=x.extend({init:function(a,b){var c=this;x.fn.init.call(c,b),c.plotArea=a,c.valueAxisRanges={},c.points=[],c.categoryPoints=[],c.seriesPoints=[],c.render()},options:{series:[],invertAxes:!1,isStacked:!1},render:function(){var a=this;a.traverseDataPoints(h(a.addValue,a))},addValue:function(a,b,c,d,e){var f=this,g,h=f.categoryPoints[c],i=f.seriesPoints[e];h||(f.categoryPoints[c]=h=[]),i||(f.seriesPoints[e]=i=[]),f.updateRange(a,c,d),g=f.createPoint(a,b,c,d,e),g&&(g.category=b,g.series=d,g.seriesIx=e,g.owner=f,g.dataItem=d.dataItems?d.dataItems[c]:{value:a}),f.points.push(g),i.push(g),h.push(g)},updateRange:function(a,b,c){var d=this,e=c.axis||bE,g=d.valueAxisRanges[e];J(a)&&(g=d.valueAxisRanges[e]=g||{min:bv,max:bw},g.min=f.min(g.min,a),g.max=f.max(g.max,a))},seriesValueAxis:function(a){return this.plotArea.namedValueAxes[(a||{}).axis||bE]},reflow:function(a){var b=this,c=b.options,d=c.invertAxes,e=b.plotArea,f=0,g=b.categorySlots=[],h=b.points,i=e.categoryAxis,j,k,l;b.traverseDataPoints(function(a,c,e,m){j=b.seriesValueAxis(m),k=j.options.axisCrossingValue,l=h[f++],l&&l.plotValue&&(a=l.plotValue);var n=b.categorySlot(i,e,j),o=b.valueSlot(j,a),p=d?o:n,q=d?n:o,r=new v(p.x1,q.y1,p.x2,q.y2),s=j.options.reverse?a<k:a>=k;l&&(l.options.aboveAxis=s,l.reflow(r)),g[e]||(g[e]=n)}),b.reflowCategories(g),b.box=a},reflowCategories:function(){},valueSlot:function(a,b){return a.getSlot(b)},categorySlot:function(a,b){return a.getSlot(b)},traverseDataPoints:function(a){var b=this,c=b.options,d=c.series,e=b.plotArea.options.categoryAxis.categories||[],f=cM(d),g,h,i,j,k;for(g=0;g<f;g++)for(h=0;h<d.length;h++)j=e[g],k=d[h],i=k.data[g],a(i,j,g,k,h)},formatPointValue:function(a,b){return p(b,a)}}),cg=cf.extend({init:function(a,b){var c=this;c._groupTotals={},c._groups=[],cf.fn.init.call(c,a,b)},render:function(){var a=this;cf.fn.render.apply(a),a.computeAxisRanges()},createPoint:function(a,b,c,d,e){var f=this,g=f.options,h=f.children,i=f.options.isStacked,j=o({},d.labels),k,l;i&&j.position==bA&&(j.position=bq),k=new ce(a,o({},{vertical:!g.invertAxes,overlay:d.overlay,labels:j,isStacked:i},d)),l=h[c],l||(l=new cb({vertical:g.invertAxes,gap:g.gap,spacing:g.spacing}),f.append(l));if(i){var m=f.getStackWrap(d,l),n,p;m.children.length===0?(n=new cc({vertical:!g.invertAxes}),p=new cc({vertical:!g.invertAxes,isReversed:!0}),m.append(n,p)):(n=m.children[0],p=m.children[1]),a>0?n.append(k):p.append(k)}else l.append(k);return k},getStackWrap:function(a,b){var c=b.children,d=a.stack,e,f,g=c.length;if(typeof d===bL){for(f=0;f<g;f++)if(c[f]._stackGroup===d){e=c[f];break}}else e=c[0];e||(e=new x,e._stackGroup=d,b.append(e));return e},updateRange:function(a,b,c){var d=this,e=d.options.isStacked,f=d.groupTotals(c.stack),g=f.positive,h=f.negative;J(a)&&(e?cL(a>0?g:h,b,a):cf.fn.updateRange.apply(d,arguments))},computeAxisRanges:function(){var a=this,b=a.options.isStacked,c,d;b&&(c=a.options.series[0].axis||bE,d=a.categoryTotals(),a.valueAxisRanges[c]={min:cC(d.negative.concat(0)),max:cD(d.positive.concat(0))})},seriesValueAxis:function(a){var b=this,c=b.options;return cf.fn.seriesValueAxis.call(b,c.isStacked?b.options.series[0]:a)},valueSlot:function(a,c){return a.getSlot(c,this.options.isStacked?0:b)},categorySlot:function(a,b,c){var d=this,e=d.options,f=a.getSlot(b),g,h;e.isStacked&&(h=c.getSlot(0,0),g=e.invertAxes?bU:bV,f[g+1]=f[g+2]=h[g+1]);return f},reflowCategories:function(a){var b=this,c=b.children,d=c.length,e;for(e=0;e<d;e++)c[e].reflow(a[e])},groupTotals:function(a){var b=this,c=typeof a===bL?a:"default",d=b._groupTotals[c];d||(d=b._groupTotals[c]={positive:[],negative:[]},b._groups.push(c));return d},categoryTotals:function(){var a=this,b=a._groups,c=a._groupTotals,d,e,f={positive:[],negative:[]},g,h=b.length;for(g=0;g<h;g++)d=b[g],e=c[d],I(f.positive,e.positive),I(f.negative,e.negative);return f}}),ch=w.extend({init:function(a){var b=this;w.fn.init.call(b,a)},options:{type:bc,align:ba,vAlign:ba},getViewElements:function(a,b){var c=this,d=c.options,e=d.type,f=c.paddingBox,g=w.fn.getViewElements.call(c,a,b)[0],h=f.width()/2;if(!g)return[];e===bQ?g=a.createPolyline([new B(f.x1+h,f.y1),new B(f.x1,f.y2),new B(f.x2,f.y2)],!0,g.options):e===bc&&(g=a.createCircle([O(f.x1+h,bg),O(f.y1+f.height()/2,bg)],h,g.options));return[g]}}),ci=x.extend({init:function(a,b){var c=this;x.fn.init.call(c,b),c.value=a,c.options.id=Q(),c.makeDiscoverable()},options:{aboveAxis:!0,vertical:!0,markers:{visible:!0,background:bT,size:bu,type:bc,border:{width:2},opacity:1},labels:{visible:!1,position:S,margin:K(3),padding:K(4),animation:{type:bm,delay:bo}}},render:function(){var a=this,b=a.options,c=b.markers,d=b.labels,e=c.background,f=o({},c.border),g=a.value;if(!a._rendered){a._rendered=!0,J(f.color)||(f.color=(new y(e)).brightness(W).toHex()),a.marker=new ch({id:a.options.id,visible:c.visible,type:c.type,width:c.size,height:c.size,background:e,border:f,opacity:c.opacity}),a.append(a.marker);if(d.visible){if(d.template){var h=n(d.template);g=h({dataItem:a.dataItem,category:a.category,value:a.value,series:a.series})}else d.format&&(g=a.formatPointValue(d.format));a.label=new F(g,o({id:Q(),align:ba,vAlign:ba,margin:{left:5,right:5}},d,{format:""})),a.append(a.label)}}},markerBox:function(){return this.marker.box},reflow:function(a){var b=this,c=b.options,d=c.vertical,e=c.aboveAxis,f;b.render(),b.box=a,f=a.clone(),d?e?f.y1-=f.height():f.y2+=f.height():e?f.x1+=f.width():f.x2-=f.width(),b.marker.reflow(f),b.reflowLabel(f)},reflowLabel:function(a){var b=this,c=b.options,d=b.marker,e=b.label,f=c.labels.position;e&&(f=f===S?bM:f,f=f===Z?_:f,e.reflow(a),e.box.alignTo(d.box,f),e.reflow(e.box))},getOutlineElement:function(a,b){var c=this,d=c.marker;b=o({data:{modelId:c.options.modelId}},b);return d.getViewElements(a,o(b,{fill:d.options.border.color,fillOpacity:1,strokeOpacity:0}))[0]},tooltipAnchor:function(a,b){var c=this,d=c.marker.box,e=c.options.aboveAxis;return new B(d.x2+bO,e?d.y1-b:d.y2)},formatPointValue:function(a){var b=this;return b.owner.formatPointValue(b.value,a)}});o(ci.fn,cd);var cj=x.extend({init:function(a,b,c){var d=this;x.fn.init.call(d),d.linePoints=a,d.series=b,d.seriesIx=c,d.options.id=Q(),d.makeDiscoverable()},options:{},points:function(a){var b=this,c=b.linePoints.concat(a||[]),d=[],e,f=c.length,g;for(e=0;e<f;e++)g=c[e].markerBox().center(),d.push(new B(g.x,g.y));return d},getViewElements:function(a){var b=this,c=b.series;x.fn.getViewElements.call(b,a);return[a.createPolyline(b.points(),!1,{id:b.options.id,stroke:c.color,strokeWidth:c.width,strokeOpacity:c.opacity,fill:"",dashType:c.dashType,data:{modelId:b.options.modelId},zIndex:-1})]},click:function(a,b){var c=this,d=a._eventCoordinates(b),e=c.seriesIx,f=c.parent.getNearestPoint(d.x,d.y,e);f.click(a,b)},hover:function(a,b){var c=this,d=a._eventCoordinates(b),e=c.seriesIx,f=c.parent.getNearestPoint(d.x,d.y,e);f.hover(a,b)}}),ck={renderSegments:function(){var a=this,b=a.options,c=b.series,d=a.seriesPoints,e,f,g=d.length,h,i,j,k,l,m=[];for(f=0;f<g;f++){h=d[f],l=h.length,e=c[f],i=[];for(k=0;k<l;k++)j=h[k],j?i.push(j):e.missingValues!==br&&(i.length>1&&m.push(a.createSegment(i,e,f,N(m))),i=[]);i.length>1&&m.push(a.createSegment(i,e,f,N(m)))}a._segments=m,a.append.apply(a,m)},createSegment:function(a,b,c){return new cj(a,b,c)},getNearestPoint:function(a,b,c){var d=this,e=d.options.invertAxes,g=e?bV:bU,h=e?b:a,i=d.seriesPoints[c],j=bv,k=i.length,l,m,n,o,p;for(p=0;p<k;p++)l=i[p],l&&J(l.value)&&l.value!==null&&(m=l.box,n=f.abs(m.center()[g]-h),n<j&&(o=l,j=n));return o}},cl=cf.extend({init:function(a,b){var c=this;c._stackAxisRange={min:bv,max:bw},c._categoryTotals=[],c.makeDiscoverable(),cf.fn.init.call(c,a,b)},render:function(){var a=this;cf.fn.render.apply(a),a.computeAxisRanges(),a.renderSegments()},createPoint:function(a,b,c,d,e){var f=this,g=f.options,h=g.isStacked,i=f.categoryPoints[c],j,k=0;if(!J(a)||a===null)if(h||d.missingValues===bW)a=0;else return null;var l=new ci(a,o({vertical:!g.invertAxes,markers:{border:{color:d.color}}},d));h&&(j=N(i),j&&(k=j.plotValue),l.plotValue=a+k),f.append(l);return l},updateRange:function(a,b,c){var d=this,e=d.options.isStacked,g=d._stackAxisRange,h=d._categoryTotals;J(a)&&(e?(cL(h,b,a),g.min=f.min(g.min,cC(h)),g.max=f.max(g.max,cD(h))):cf.fn.updateRange.apply(d,arguments))},computeAxisRanges:function(){var a=this,b=a.options.isStacked,c;b&&(c=a.options.series[0].axis||bE,a.valueAxisRanges[c]=a._stackAxisRange)},getViewElements:function(a){var b=this,c=cf.fn.getViewElements.call(b,a),d=a.createGroup({animation:{type:be}});d.children=c;return[d]}});o(cl.fn,ck);var cm=cj.extend({init:function(a,b,c,d){var e=this;e.stackPoints=b,cj.fn.init.call(e,a,c,d)},points:function(){var a=this,b=a.parent,c=b.options.isStacked&&a.seriesIx>0,d=b.plotArea,e=b.options.invertAxes,f=d.categoryAxis.lineBox(),g=e?f.x1:f.y1,h=a.stackPoints,i=cj.fn.points.call(a,h),j,k;!c&&i.length>1&&(j=i[0],k=N(i),e?(i.unshift(new B(g,j.y)),i.push(new B(g,k.y))):(i.unshift(new B(j.x,g)),i.push(new B(k.x,g))));return i},getViewElements:function(a){var b=this,c=b.series,d=o({color:c.color,opacity:c.opacity},c.line);x.fn.getViewElements.call(b,a);return[a.createPolyline(b.points(),!0,{id:b.options.id,stroke:d.color,strokeWidth:d.width,strokeOpacity:d.opacity,dashType:d.dashType,fillOpacity:c.opacity,fill:c.color,stack:c.stack,data:{modelId:b.options.modelId},zIndex:-1})]}}),cn=cl.extend({createSegment:function(a,b,c,d){var e=this,f=e.options,g;f.isStacked&&c>0&&(g=d.linePoints.slice(0).reverse());return new cm(a,g,b,c)}}),co=x.extend({init:function(a,b){var c=this;x.fn.init.call(c,b),c.plotArea=a,c.xAxisRanges={},c.yAxisRanges={},c.points=[],c.seriesPoints=[],c.render()},options:{series:[],tooltip:{format:"{0}, {1}"},labels:{format:"{0}, {1}"}},render:function(){var a=this;a.traverseDataPoints(h(a.addValue,a))},addValue:function(a,b){var c=this,d,e=b.seriesIx,f=c.seriesPoints[e];c.updateRange(a,b.series),d=c.createPoint(a,b.series,e),d&&g(d,b),c.points.push(d),f.push(d)},updateRange:function(a,b){var c=this,d=a.x,e=a.y,g=b.xAxis||bE,h=b.yAxis||bE,i=c.xAxisRanges[g],j=c.yAxisRanges[h];J(d)&&d!==null&&(i=c.xAxisRanges[g]=i||{min:bv,max:bw},i.min=f.min(i.min,d),i.max=f.max(i.max,d)),J(e)&&e!==null&&(j=c.yAxisRanges[h]=j||{min:bv,max:bw},j.min=f.min(j.min,e),j.max=f.max(j.max,e))},createPoint:function(a,b,c){var d=this,e,f=a.x,g=a.y;if(!J(f)||f===null||!J(g)||g===null)return null;e=new ci(a,o({markers:{border:{color:b.color},opacity:b.opacity},tooltip:{format:d.options.tooltip.format},labels:{format:d.options.labels.format}},b)),d.append(e);return e},seriesAxes:function(a){var b=this.plotArea,c=a.xAxis||bE,d=a.yAxis||bE;return{x:b.namedXAxes[c],y:b.namedYAxes[d]}},reflow:function(a){var b=this,c=b.points,d=0,e,f;b.traverseDataPoints(function(a,g){e=c[d++],f=b.seriesAxes(g.series);var h=f.x.getSlot(a.x,a.x),i=f.y.getSlot(a.y,a.y),j=new v(h.x1,i.y1,h.x2,i.y2);e&&e.reflow(j)}),b.box=a},getViewElements:function(a){var b=this,c=x.fn.getViewElements.call(b,a),d=a.createGroup({animation:{type:be}});d.children=c;return[d]},traverseDataPoints:function(a){var b=this,c=b.options,d=c.series,e=b.seriesPoints,f=0,g,h,i,j,k,l;for(g=0;g<d.length;g++){h=d[g],i=e[g],i||(e[g]=[]);for(f=0;f<h.data.length;f++)l=h.data[f]||[],j=h.dataItems,k={x:l[0],y:l[1]},a(k,{pointIx:f,series:h,seriesIx:g,dataItem:j?j[f]:k,owner:b})}},formatPointValue:function(a,b){return p(b,a.x,a.y)}}),cp=co.extend({render:function(){var a=this;co.fn.render.call(a),a.renderSegments()},getViewElements:function(a){var b=this,c=co.fn.getViewElements.call(b,a),d=a.createGroup({animation:{type:be}});d.children=c;return[d]}});o(cp.fn,ck);var cq=x.extend({init:function(a,b,c){var d=this;d.value=a,d.sector=b,d.makeDiscoverable(),x.fn.init.call(d,c)},options:{color:bT,overlay:{gradient:bG},border:{width:.5},labels:{visible:!1,distance:35,font:bi,margin:K(.5),align:bc,zIndex:1,position:bA},animation:{type:bC},highlight:{visible:!0,border:{width:1}}},render:function(){var a=this,b=a.options,c=b.labels,d=a.value,e;a._rendered||(a._rendered=!0,c.template&&(e=n(c.template),d=e({dataItem:a.dataItem,category:a.category,value:a.value,series:a.series,percentage:a.percentage})),c.visible&&(a.label=new F(d,o({},c,{id:Q(),align:ba,vAlign:"",animation:{type:bm,delay:a.categoryIx*bD}})),a.append(a.label)))},reflow:function(a){var b=this;b.render(),b.box=a,a.clone(),b.reflowLabel()},reflowLabel:function(){var a=this,b=a.sector.clone(),c=a.options,d=a.label,e=c.labels,g=e.distance,h,i,j=b.middle(),k,l;d&&(l=d.box.height(),k=d.box.width(),e.position==ba?(b.r=f.abs((b.r-l)/2)+l,h=b.point(j),d.reflow(new v(h.x,h.y-l/2,h.x,h.y))):e.position==bq?(b.r=b.r-l/2,h=b.point(j),d.reflow(new v(h.x,h.y-l/2,h.x,h.y))):(h=b.clone().expand(g).point(j),h.x>=b.c.x?(i=h.x+k,d.orientation=bF):(i=h.x-k,d.orientation=bs),d.reflow(new v(i,h.y-l,h.x,h.y))))},getViewElements:function(a){var b=this,c=b.sector,d=b.options,e=d.border||{},f=e.width>0?{stroke:e.color,strokeWidth:e.width,dashType:e.dashType}:{},g=[],h=d.overlay;h&&(h=o({},d.overlay,{r:c.r,cx:c.c.x,cy:c.c.y,bbox:c.getBBox()})),b.value!==0&&g.push(a.createSector(c,o({id:d.id,fill:d.color,overlay:h,fillOpacity:d.opacity,strokeOpacity:d.opacity,animation:o(d.animation,{delay:b.categoryIx*bD}),data:{modelId:d.modelId}},f))),I(g,x.fn.getViewElements.call(b,a));return g},getOutlineElement:function(a,b){var c=this,d=c.options.highlight||{},e=d.border||{},f=c.options.id+bB,g;b=o({},b,{id:f}),c.value!==0&&(g=a.createSector(c.sector,o({},b,{fill:d.color,fillOpacity:d.opacity,strokeOpacity:e.opacity,strokeWidth:e.width,stroke:e.color,data:{modelId:c.options.modelId}})));return g},tooltipAnchor:function(a,b){var c=a/2,d=b/2,e=f.sqrt(c*c+d*d),g=this.sector.clone().expand(e+bO),h=g.point(g.middle());return new B(h.x-c,h.y-d)},formatPointValue:function(a){var b=this;return b.owner.formatPointValue(b.value,a)}});o(cq.fn,cd);var cr=x.extend({init:function(a,b){var c=this;x.fn.init.call(c,b),c.plotArea=a,c.segments=[],c.seriesPoints=[],c.render()},options:{startAngle:90,connectors:{width:1,color:"#939393",padding:4}},render:function(){var a=this;a.traverseDataPoints(h(a.addValue,a))},traverseDataPoints:function(a){var b=this,c=b.options,d=b.plotArea.options.seriesColors||[],e=c.startAngle,f=d.length,g=c.series,h,i,j,k,l,m,n,o,p,q,r;for(k=0;k<g.length;k++){i=g[k],h=i.dataItems,m=i.data,q=b.pointsTotal(m),n=360/q;for(r=0;r<m.length;r++)j=b.pointData(i,r),o=j.value,l=O(o*n,bk),p=m.length!=1&&!!j.explode,i.color=j.color?j.color:d[r%f],a(o,new D(null,0,e,l),{owner:b,category:j.category||"",categoryIx:r,series:i,seriesIx:k,dataItem:h?h[r]:j,percentage:o/q,explode:p,visibleInLegend:j.visibleInLegend}),e+=l}},addValue:function(a,b,c){var d=this,e;e=new cq(a,b,c.series),e.options.id=Q(),g(e,c),d.append(e),d.segments.push(e)},pointValue:function(a){return J(a.value)?a.value:a},pointData:function(a,b){var c=this,d=a.data[b],e=["category","color","explode","visibleInLegend"],f=e.length,g,h,i={},j;for(j=0;j<f;j++)h=e[j],g=c.pointGetter(a,b,h),g!==""&&(i[h]=g);i.value=c.pointValue(d);return i},pointGetter:function(a,b,c){var d=a[c+"Field"],e=a.data[b],f=e[c];return d&&a.dataItems?cO(d,a.dataItems[b]):J(f)?f:""},pointsTotal:function(a){var b=this,c=a.length,d=0,e;for(e=0;e<c;e++)d+=b.pointValue(a[e]);return d},reflow:function(a){var b=this,c=b.options,d=a.clone(),e=5,g=f.min(d.width(),d.height()),h=g/2,i=g-g*.85,j=J(c.padding)?c.padding:i,k=new v(d.x1,d.y1,d.x1+g,d.y1+g),l=k.center(),m=d.center(),n=b.segments,o=n.length,p=[],q=[],r,s,t,u;j=j>h-e?h-e:j,k.translate(m.x-l.x,m.y-l.y);for(u=0;u<o;u++)s=n[u],t=s.sector,t.r=h-j,t.c=new B(t.r+k.x1+j,t.r+k.y1+j),s.explode&&(t.c=t.clone().radius(t.r*.15).point(t.middle())),s.reflow(k),r=s.label,r&&r.options.position===bA&&(r.orientation===bF?q.push(r):p.push(r));p.length>0&&(p.sort(b.labelComparator(!0)),b.leftLabelsReflow(p)),q.length>0&&(q.sort(b.labelComparator(!1)),b.rightLabelsReflow(q)),b.box=k},leftLabelsReflow:function(a){var b=this,c=b.distanceBetweenLabels(a);b.distributeLabels(c,a)},rightLabelsReflow:function(a){var b=this,c=b.distanceBetweenLabels(a);b.distributeLabels(c,a)},distanceBetweenLabels:function(a){var b=this,c=b.segments[0],d=c.sector,e=a[0].box,f,g=a.length-1,h=[],i,j=d.r+c.options.labels.distance,k;i=O(e.y1-(d.c.y-j-e.height()-e.height()/2)),h.push(i);for(k=0;k<g;k++)e=a[k].box,f=a[k+1].box,i=O(f.y1-e.y2),h.push(i);i=O(d.c.y+j-a[g].box.y2-a[g].box.height()/2),h.push(i);return h},distributeLabels:function(a,b){var c=this,d=a.length,e,f,g,h;for(h=0;h<d;h++){f=g=h,e=-a[h];while(e>0&&(f>=0||g<d))e=c._takeDistance(a,h,--f,e),e=c._takeDistance(a,h,++g,e)}c.reflowLabels(a,b)},_takeDistance:function(a,b,c,d){if(a[c]>0){var e=f.min(a[c],d);d-=e,a[c]-=e,a[b]+=e}return d},reflowLabels:function(a,b){var c=this,d=c.segments,e=d[0],f=e.sector,g=b.length,h=e.options.labels,i=h.distance,j=f.c.y-(f.r+i)-b[0].box.height(),k,l,m,n;a[0]+=2;for(n=0;n<g;n++)k=b[n],j+=a[n],m=k.box,l=c.hAlignLabel(m.x2,f.clone().expand(i),j,j+m.height(),k.orientation==bF),k.orientation==bF?(h.align!==bc&&(l=f.r+f.c.x+i),k.reflow(new v(l+m.width(),j,l,j))):(h.align!==bc&&(l=f.c.x-f.r-i),k.reflow(new v(l-m.width(),j,l,j))),j+=m.height()},getViewElements:function(a){var b=this,c=b.options,d=c.connectors,e=b.segments,g,h,i=e.length,j=4,k,l=[],m,n,o,p,q;for(q=0;q<i;q++){n=e[q],h=n.sector,k=h.middle(),p=n.label,o={seriesId:n.seriesIx};if(p){m=[];if(p.options.position===bA&&n.value!==0){var r=p.box,s=h.c,t=h.point(k),u=new B(r.x1,r.center().y),v,w,y;t=h.clone().expand(d.padding).point(k),m.push(t),p.orientation==bF?(w=new B(r.x1-d.padding,r.center().y),y=cF(s,t,u,w),u=new B(w.x-j,w.y),y=y||u,y.x=f.min(y.x,u.x),b.pointInCircle(y,h.c,h.r+j)||y.x<h.c.x?(v=h.c.x+h.r+j,n.options.labels.align!==bf?v<u.x?m.push(new B(v,t.y)):m.push(new B(t.x+j*2,t.y)):m.push(new B(v,t.y)),m.push(new B(u.x,w.y))):(y.y=w.y,m.push(y))):(w=new B(r.x2+d.padding,r.center().y),y=cF(s,t,u,w),u=new B(w.x+j,w.y),y=y||u,y.x=f.max(y.x,u.x),b.pointInCircle(y,h.c,h.r+j)||y.x>h.c.x?(v=h.c.x-h.r-j,n.options.labels.align!==bf?v>u.x?m.push(new B(v,t.y)):m.push(new B(t.x-j*2,t.y)):m.push(new B(v,t.y)),m.push(new B(u.x,w.y))):(y.y=w.y,m.push(y))),m.push(w),g=a.createPolyline(m,!1,{id:Q(),stroke:d.color,strokeWidth:d.width,animation:{type:bm,delay:n.categoryIx*bD},data:{modelId:n.options.modelId}}),l.push(g)}}}I(l,x.fn.getViewElements.call(b,a));return l},labelComparator:function(a){a=a?-1:1;return function(b,c){b=(b.parent.sector.middle()+270)%360,c=(c.parent.sector.middle()+270)%360;return(b-c)*a}},hAlignLabel:function(a,b,c,d,e){var g=b.c.x,h=b.c.y,i=b.r,j=f.min(f.abs(h-c),f.abs(h-d));return j>i?a:g+f.sqrt(i*i-j*j)*(e?1:-1)},pointInCircle:function(a,b,c){return cN(b.x-a.x)+cN(b.y-a.y)<cN(c)},formatPointValue:function(a,b){return p(b,a)}}),cs=x.extend({init:function(a,b){var c=this;x.fn.init.call(c,b),c.series=a,c.charts=[],c.options.legend.items=[],c.axes=[],c.render()},options:{series:[],plotArea:{margin:{}},background:"",border:{color:$,width:0},legend:{}},appendChart:function(a){var b=this;b.charts.push(a),b.addToLegend(a),b.append(a)},addToLegend:function(a){var b=a.options.series,c=b.length,d=[],e,f;for(e=0;e<c;e++)f=b[e],f.visibleInLegend!==!1&&d.push({name:f.name||"",color:f.color});I(this.options.legend.items,d)},reflow:function(a){var b=this,c=b.options.plotArea,d=K(c.margin);b.box=a.clone(),b.box.unpad(d),b.axes.length>0&&(b.reflowAxes(),b.box=b.axisBox()),b.reflowCharts()},axisCrossingValues:function(a,b){var c=a.options,d=[].concat(c.axisCrossingValue),e=b.length-d.length,f=d[0]||0,g;for(g=0;g<e;g++)d.push(f);return d},alignAxisTo:function(a,b,c,d){var e=a.getSlot(c,c),f=a.options.reverse?2:1,g=b.getSlot(d,d),h=b.options.reverse?2:1;a.reflow(a.box.translate(g[bU+h]-e[bU+f],g[bV+h]-e[bV+f]))},alignAxes:function(a,b){var c=this,d=a[0],e=b[0],f=c.axisCrossingValues(d,b),g=c.axisCrossingValues(e,a),h,i,j,k,l,m;for(m=0;m<b.length;m++)l=b[m],c.alignAxisTo(l,d,g[m],f[m]),l.lineBox().x1===d.lineBox().x1&&(h&&l.reflow(l.box.alignTo(h.box,bs).translate(-l.options.margin,0)),h=l),l.lineBox().x2===d.lineBox().x2&&(l._mirrored||(l.options.labels.mirror=!l.options.labels.mirror,l._mirrored=!0),c.alignAxisTo(l,d,g[m],f[m]),i&&l.reflow(l.box.alignTo(i.box,bF).translate(l.options.margin,0)),i=l);for(m=0;m<a.length;m++)l=a[m],c.alignAxisTo(l,e,f[m],g[m]),l.lineBox().y1===e.lineBox().y1&&(l._mirrored||(l.options.labels.mirror=!l.options.labels.mirror,l._mirrored=!0),c.alignAxisTo(l,e,f[m],g[m]),j&&l.reflow(l.box.alignTo(j.box,bM).translate(0,-l.options.margin)),j=l),l.lineBox().y2===e.lineBox().y2&&(k&&l.reflow(l.box.alignTo(k.box,_).translate(0,l.options.margin)),k=l)},axisBox:function(){var a=this,b=a.axes,c=b[0].box.clone(),d,e=b.length;for(d=1;d<e;d++)c.wrap(b[d].box);return c},shrinkAxes:function(){var a=this,b=a.box,c=a.axisBox(),d=c.height()-b.height(),e=c.width()-b.width(),f=a.axes,g,h,i,j=f.length;for(i=0;i<j;i++)g=f[i],h=g.options.vertical,g.reflow(g.box.shrink(h?0:e,h?d:0))},shrinkAdditionalAxes:function(a,b){var c=this,d=c.axes,e=a[0],g=b[0],h=e.lineBox().clone().wrap(g.lineBox()),i,j,k,l,m,n,o=d.length;for(n=0;n<o;n++)k=d[n],l=k.options.vertical,m=k.lineBox(),i=f.max(0,m.x2-h.x2)+f.max(0,h.x1-m.x1),j=f.max(0,m.y2-h.y2)+f.max(0,h.y1-m.y1),k.reflow(k.box.shrink(l?0:i,l?j:0))},fitAxes:function(){var a=this,b=a.axes,c=a.box,d=a.axisBox(),e=c.x1-d.x1,f=c.y1-d.y1,g,h,i=b.length;for(h=0;h<i;h++)g=b[h],g.reflow(g.box.translate(e,f))},reflowAxes:function(){var a=this,b=a.axes,c=d(b,function(a){return!a.options.vertical}),e=d(b,function(a){return a.options.vertical}),f,g=b.length;for(f=0;f<g;f++)b[f].reflow(a.box);a.alignAxes(c,e),a.shrinkAdditionalAxes(c,e),a.alignAxes(c,e),a.shrinkAxes(),a.alignAxes(c,e),a.fitAxes()},reflowCharts:function(){var a=this,b=a.charts,c=b.length,d=a.box,e;for(e=0;e<c;e++)b[e].reflow(d);a.box=d},renderGridLines:function(a,b,c){var d=b.options,f=d.vertical,g=b.getSlot(d.axisCrossingValue),h=O(g[f?"y1":"x1"]),i=c.lineBox(),j=i[f?"x1":"y1"],k=i[f?"x2":"y2"],l=b.getMajorTickPositions(),m=[],n=function(a,b){return{pos:a,options:b}};d.majorGridLines.visible&&(m=e(l,function(a){return n(a,d.majorGridLines)})),d.minorGridLines.visible&&(m=m.concat(e(b.getMinorTickPositions(),function(a){if(!d.majorGridLines.visible)return n(a,d.minorGridLines);if(!L(a,l))return n(a,d.minorGridLines)})));return e(m,function(b){var d={strokeWidth:b.options.width,stroke:b.options.color,dashType:b.options.dashType},e=O(b.pos);if(h===e&&c.options.line.visible)return null;return f?a.createLine(j,e,k,e,d):a.createLine(e,j,e,k,d)})},getViewElements:function(a){var b=this,c=b.options.plotArea,d=b.axisY,e=b.axisX,f=d?b.renderGridLines(a,d,e):[],g=e?b.renderGridLines(a,e,d):[],h=x.fn.getViewElements.call(b,a),i=c.border||{},j=[a.createRect(b.box,{fill:c.background,zIndex:-1}),a.createRect(b.box,{stroke:i.width?i.color:"",strokeWidth:i.width,fill:"",zIndex:0,dashType:i.dashType})];return[].concat(f,g,h,j)}}),ct=cs.extend({init:function(a,b){var c=this,d=o({},c.options,b);c.namedValueAxes={},c.valueAxisRangeTracker=new cu(d.valueAxis),a.length>0&&(c.invertAxes=L(a[0].type,[V,bR,bS])),cs.fn.init.call(c,a,b)},options:{categoryAxis:{categories:[]},valueAxis:{}},render:function(){var a=this,b=a.series;a.createAreaChart(d(b,function(a){return L(a.type,[T,bS])})),a.createBarChart(d(b,function(a){return L(a.type,[V,bf])})),a.createLineChart(d(b,function(a){return L(a.type,[bt,bR])})),a.createAxes()},appendChart:function(a){var b=this,c=b.options,d=a.options.series,e=c.categoryAxis.categories,g=f.max(0,cM(d)-e.length);I(e,Array(g)),b.valueAxisRangeTracker.update(a.valueAxisRanges),cs.fn.appendChart.call(b,a)},createBarChart:function(a){if(a.length!==0){var b=this,c=a[0],d=new cg(b,{series:a,invertAxes:b.invertAxes,isStacked:c.stack&&a.length>1,gap:c.gap,spacing:c.spacing});b.appendChart(d)}},createLineChart:function(a){if(a.length!==0){var b=this,c=a[0],d=new cl(b,{invertAxes:b.invertAxes,isStacked:c.stack&&a.length>1,series:a});b.appendChart(d)}},createAreaChart:function(a){if(a.length!==0){var b=this,c=a[0],d=new cn(b,{invertAxes:b.invertAxes,isStacked:c.stack&&a.length>1,series:a});b.appendChart(d)}},createAxes:function(){var a=this,b=a.options,d,e=a.invertAxes,f=b.categoryAxis.categories.length,g=new ca(o({vertical:e,axisCrossingValue:e?f:0},b.categoryAxis)),h,i,j=a.namedValueAxes,k=[].concat(b.valueAxis),l;c(k,function(){i=this.name||bE,d=a.valueAxisRangeTracker.query(i),h=j[i]=new A(d.min,d.max,o({vertical:!e},this)),a.axes.push(h),a.append(h)}),l=j[bE]||a.axes[0],a.axisX=e?l:g,a.axisY=e?g:l,a.categoryAxis=g,a.axes.push(g),a.append(a.categoryAxis)}}),cu=k.extend({init:function(a){var b=this;b.axisRanges={},b.axisOptions=[].concat(a),b.defaultRange={min:0,max:1}},update:function(a){var b=this,c=b.axisRanges,d=b.axisOptions,e,g,h,i,j,k=d.length;if(!!a)for(h=0;h<k;h++)i=d[h],j=i.name||bE,e=c[j],g=a[j],g&&(c[j]=e=e||{min:bv,max:bw},e.min=f.min(e.min,g.min),e.max=f.max(e.max,g.max))},query:function(a){var b=this;return b.axisRanges[a]||o({},b.defaultRange)}}),cv=cs.extend({init:function(a,b){var c=this,d=o({},c.options,b);c.namedXAxes={},c.namedYAxes={},c.xAxisRangeTracker=new cu(d.xAxis),c.yAxisRangeTracker=new cu(d.yAxis),cs.fn.init.call(c,a,b)},options:{xAxis:{},yAxis:{}},render:function(){var a=this,b=a.series;a.createScatterChart(d(b,function(a){return a.type===bH})),a.createScatterLineChart(d(b,function(a){return a.type===bI})),a.createAxes()},appendChart:function(a){var b=this;b.xAxisRangeTracker.update(a.xAxisRanges),b.yAxisRangeTracker.update(a.yAxisRanges),cs.fn.appendChart.call(b,a)},createScatterChart:function(a){var b=this;a.length>0&&b.appendChart(new co(b,{series:a}))},createScatterLineChart:function(a){var b=this;a.length>0&&b.appendChart(new cp(b,{series:a}))},createXYAxis:function(a,b){var c=this,d=a.name||bE,e=b?c.namedYAxes:c.namedXAxes,f=b?c.yAxisRangeTracker:c.xAxisRangeTracker,g=f.query(d),h=o({},a,{vertical:b}),i=new A(g.min,g.max,h);e[d]=i,c.append(i),c.axes.push(i)},createAxes:function(){var a=this,b=a.options,d=[].concat(b.xAxis),e=[].concat(b.yAxis);c(d,function(){a.createXYAxis(this,!1)}),c(e,function(){a.createXYAxis(this,!0)}),a.axisX=a.namedXAxes.primary||a.namedXAxes[d[0].name],a.axisY=a.namedYAxes.primary||a.namedYAxes[e[0].name]}}),cw=cs.extend({render:function(){var a=this,b=a.series;a.createPieChart(b)},createPieChart:function(a){var b=this,c=a[0],d=new cr(b,{series:a,padding:c.padding,startAngle:c.startAngle,connectors:c.connectors});b.appendChart(d)},addToLegend:function(a){var b=this,c=b.options,d=a.segments,e=d.length,f,g;for(f=0;f<e;f++)g=d[f],g.visibleInLegend!==!1&&c.legend.items.push({name:g.category,color:g.options.color})}}),cx=z.extend({options:{easing:"easeOutElastic",duration:bo},setup:function(){var a=this.element.config;this.endRadius=a.r,a.r=0},step:function(a){var b=this.endRadius,c=this.element.config;c.r=M(0,b,a)}}),cy=H(V,u),cz=H(bC,cx),cA=k.extend({init:function(a,b,c){var d=this;d.options=o({},d.options,c),d.view=a,d.viewElement=b},options:{fill:bT,fillOpacity:.2,stroke:bT,strokeWidth:1,strokeOpacity:.2},show:function(a){var b=this,c=b.view,d=b.viewElement,e,f;b.hide(),a.getOutlineElement&&(e=a.getOutlineElement(c,b.options),e&&(f=c.renderElement(e),d.appendChild(f),b.element=f,b.visible=!0))},hide:function(){var a=this,b=a.element;b&&(b.parentNode&&b.parentNode.removeChild(b),delete a.element,a.visible=!1)}}),cB=k.extend({init:function(b,c){var d=this;d.options=o({},d.options,c),c=d.options,d.chartElement=b,d.chartPadding={top:parseInt(b.css("paddingTop"),10),left:parseInt(b.css("paddingLeft"),10)},d.template=cB.template,d.template||(d.template=cB.template=P("<div class='"+R+"tooltip' "+"style='display:none; position: absolute; font: #= d.font #;"+"border: #= d.border.width #px solid;"+"opacity: #= d.opacity #; filter: alpha(opacity=#= d.opacity * 100 #);'>"+"</div>")),d.element=a(d.template(d.options)).appendTo(b)},options:{background:$,color:bT,border:{width:3},opacity:1,animation:{duration:bN}},show:function(a){var b=this;b.point=a,b.showTimeout=setTimeout(h(b._show,b),bP)},_show:function(){var a=this,b=a.point,c=a.element,d=a.options,e=a.chartPadding,f,g,h,i,j,k;!b||(h=b.value.toString(),i=o({},a.options,b.options.tooltip),i.template?(g=n(i.template),h=g({value:b.value,category:b.category,series:b.series,dataItem:b.dataItem,percentage:b.percentage})):i.format&&(h=b.formatPointValue(i.format)),c.html(h),f=b.tooltipAnchor(c.outerWidth(),c.outerHeight()),j=O(f.y+e.top)+"px",k=O(f.x+e.left)+"px",a.visible||a.element.css({top:j,left:k}),a.element.css({backgroundColor:i.background,borderColor:i.border.color||b.options.color,color:i.color,opacity:i.opacity,borderWidth:i.border.width}).stop(!0,!0).show().animate({left:k,top:j},d.animation.duration),a.visible=!0)},hide:function(){var a=this;clearTimeout(a.showTimeout),a.visible&&(a.element.fadeOut(),a.point=null,a.visible=!1)}});g(a.easing,{easeOutElastic:function(a,b,c,d){var e=1.70158,g=0,h=d;if(a===0)return c;if(a===1)return c+d;g||(g=.5),h<f.abs(d)?(h=d,e=g/4):e=g/(2*f.PI)*f.asin(d/h);return h*f.pow(2,-10*a)*f.sin((a*1-e)*1.1*f.PI/g)+d+c}}),cO.cache={},r.ui.plugin(bZ),o(r,{AreaChart:cn,Bar:ce,BarAnimationDecorator:cy,BarChart:cg,BarLabel:b$,CategoricalPlotArea:ct,CategoryAxis:ca,ClusterLayout:cb,Highlight:cA,Legend:b_,LineChart:cl,LinePoint:ci,PieAnimation:cx,PieAnimationDecorator:cz,PieChart:cr,PiePlotArea:cw,PieSegment:cq,ScatterChart:co,ScatterLineChart:cp,ShapeElement:ch,StackLayout:cc,Tooltip:cB,XYPlotArea:cv,categoriesCount:cM})})(jQuery)